<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant Management - Live Status</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<div class="container">
    <h1>Управление рестораном - Live статусы</h1>

    <div class="tabs">
        <button class="tab-button active" data-tab="overview">Общий обзор</button>
        <button class="tab-button" data-tab="customers">Клиенты</button>
        <button class="tab-button" data-tab="orderTakers">Принимающие заказы</button>
        <button class="tab-button" data-tab="cooks">Повара</button>
        <button class="tab-button" data-tab="orders">Заказы</button>
    </div>

    <!-- Вкладка Общий обзор -->
    <div id="overview-tab" class="tab-content active">
        <div class="header-info">
            <div class="controls">
                <button id="refreshOverviewBtn">Обновить все</button>
                <button id="autoRefreshToggle">Автообновление: ВКЛ</button>
            </div>
            <div class="status-indicator">
                <div class="status-dot"></div>
                <span>Обновление каждую секунду</span>
            </div>
        </div>

        <!-- Блок клиентов -->
        <div class="overview-section">
            <h2>Клиенты</h2>
            <div id="overviewCustomersLoading" class="loading">Загрузка клиентов...</div>
            <div id="overviewCustomersError" class="error" style="display: none;"></div>
            <div id="overviewCustomersGrid" class="customers-grid"></div>
        </div>

        <!-- Блок принимающих заказы -->
        <div class="overview-section">
            <h2>Принимающие заказы</h2>
            <div id="overviewOrderTakersLoading" class="loading">Загрузка принимающих заказы...</div>
            <div id="overviewOrderTakersError" class="error" style="display: none;"></div>
            <div id="overviewOrderTakersGrid" class="order-takers-grid"></div>
        </div>

        <!-- Блок поваров -->
        <div class="overview-section">
            <h2>Повара</h2>
            <div id="overviewCooksLoading" class="loading">Загрузка поваров...</div>
            <div id="overviewCooksError" class="error" style="display: none;"></div>
            <div id="overviewCooksGrid" class="cooks-grid"></div>
        </div>

        <div id="overviewLastUpdate" class="last-update"></div>
    </div>

    <!-- Вкладка Клиентов -->
    <div id="customers-tab" class="tab-content">
        <div class="header-info">
            <div class="controls">
                <button id="refreshCustomersBtn">Обновить сейчас</button>
                <button id="addCustomerBtn">Добавить клиента</button>
                <button id="autoRefreshToggleCustomers">Автообновление: ВКЛ</button>
            </div>
            <div class="status-indicator">
                <div class="status-dot"></div>
                <span>Обновление каждую секунду</span>
            </div>
        </div>

        <div id="customersLoading" class="loading">Загрузка клиентов...</div>
        <div id="customersError" class="error" style="display: none;"></div>

        <div id="customersGrid" class="customers-grid"></div>

        <div id="customersLastUpdate" class="last-update"></div>
    </div>

    <!-- Вкладка Принимающих заказы -->
    <div id="orderTakers-tab" class="tab-content">
        <div class="header-info">
            <div class="controls">
                <button id="refreshOrderTakersBtn">Обновить сейчас</button>
                <button id="addOrderTakerBtn">Добавить принимающего</button>
                <button id="autoRefreshToggleOrderTakers">Автообновление: ВКЛ</button>
            </div>
            <div class="status-indicator">
                <div class="status-dot"></div>
                <span>Статусы в реальном времени</span>
            </div>
        </div>

        <div id="orderTakersLoading" class="loading">Загрузка принимающих заказы...</div>
        <div id="orderTakersError" class="error" style="display: none;"></div>

        <div id="orderTakersGrid" class="order-takers-grid"></div>

        <div id="orderTakersLastUpdate" class="last-update"></div>
    </div>

    <!-- Вкладка Поваров -->
    <div id="cooks-tab" class="tab-content">
        <div class="header-info">
            <div class="controls">
                <button id="refreshCooksBtn">Обновить сейчас</button>
                <button id="addCookBtn">Добавить повара</button>
                <button id="autoRefreshToggleCooks">Автообновление: ВКЛ</button>
            </div>
            <div class="status-indicator">
                <div class="status-dot"></div>
                <span>Статусы в реальном времени</span>
            </div>
        </div>

        <div id="cooksLoading" class="loading">Загрузка поваров...</div>
        <div id="cooksError" class="error" style="display: none;"></div>

        <div id="cooksGrid" class="cooks-grid"></div>

        <div id="cooksLastUpdate" class="last-update"></div>
    </div>
    <div id="orders-tab" class="tab-content">
        <div class="header-info">
            <div class="controls">
                <button id="refreshOrdersBtn">Обновить</button>
                <button id="applyFiltersBtn">Применить фильтры</button>
                <button id="resetFiltersBtn">Сбросить фильтры</button>
                <button id="autoRefreshToggleOrders">Автообновление: ВЫКЛ</button>
            </div>
            <div class="status-indicator">
                <div class="status-dot"></div>
                <span>Фильтры и пагинация</span>
            </div>
        </div>

        <!-- Фильтры -->
        <div class="filters-section">
            <h3>Фильтры заказов</h3>
            <div class="filters-grid">
                <div class="filter-group">
                    <label>Статусы:</label>
                    <div class="checkbox-group">
                        <label><input type="checkbox" name="status" value="PENDING" checked> Ожидание</label>
                        <label><input type="checkbox" name="status" value="IN_PROGRESS" checked> В процессе</label>
                        <label><input type="checkbox" name="status" value="COOKING" checked> Готовится</label>
                        <label><input type="checkbox" name="status" value="READY" checked> Готов</label>
                        <label><input type="checkbox" name="status" value="SERVED" checked> Подано</label>
                    </div>
                </div>

                <div class="filter-group">
                    <label>Сортировка:</label>
                    <select id="orderSorting">
                        <option value="CREATED_AT_DESC">Сначала новые</option>
                        <option value="CREATED_AT_ASC">Сначала старые</option>
                        <option value="UPDATED_AT_DESC">По обновлению (новые)</option>
                        <option value="UPDATED_AT_ASC">По обновлению (старые)</option>
                        <option value="CUSTOMER_ID_ASC">По ID клиента (возр.)</option>
                        <option value="CUSTOMER_ID_DESC">По ID клиента (убыв.)</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label>Дата от:</label>
                    <input type="datetime-local" id="minDate">
                </div>

                <div class="filter-group">
                    <label>Дата до:</label>
                    <input type="datetime-local" id="maxDate">
                </div>
            </div>
        </div>

        <div id="ordersLoading" class="loading">Загрузка заказов...</div>
        <div id="ordersError" class="error" style="display: none;"></div>

        <div id="ordersGrid" class="orders-grid"></div>

        <!-- Пагинация -->
        <div class="pagination">
            <button id="firstPageBtn" disabled>«</button>
            <button id="prevPageBtn" disabled>‹</button>
            <span id="pageInfo">Страница 0 из 0</span>
            <button id="nextPageBtn" disabled>›</button>
            <button id="lastPageBtn" disabled>»</button>
        </div>

        <div id="ordersLastUpdate" class="last-update"></div>
    </div>
</div>

<script src="js/customerService.js"></script>
<script src="js/orderTakerService.js"></script>
<script src="js/cookService.js"></script>
<script src="js/orderService.js"></script>
<script src="js/uiManager.js"></script>
<script src="js/app.js"></script>
</body>
</html>